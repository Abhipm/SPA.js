/** @license SPA-handlebars-helpers.js | (c) Kumararaja <sucom.kumar@gmail.com> | License (MIT) */
(function(){function e(e){return Object.prototype.toString.call(e).replace(/\[object /,"").replace(/\]/,"").toLowerCase()}function t(t,r){return(""+r).toLowerCase().indexOf(e(t))>=0}function r(e,r){function n(e,t){for(var r=t.split(","),n="",a=0,i=!0,s=0;r.length>s;s++)n=r[s].trim(),n&&(a++,i=i&&e.hasOwnProperty(n));return a&&i}function a(e,t){for(var r=t.split(","),n="",a=0,i=!1,s=0;r.length>s&&(n=r[s].trim(),n&&(a++,i=i||e.hasOwnProperty(n)),!i);s++);return a&&i}var i=!1;if(t(e,"object")&&r)switch(r=""+r,!0){case r.indexOf("&")>0:i=n(e,r.replace(/\&/g,","));break;case r.indexOf("|")>0:i=a(e,r.replace(/\|/g,","));break;default:i=n(e,r)}return i}function n(e,n){return t(e,"object")&&r(e,"name,hash,data")&&r(e.data,"root")?n?e.name==n:!0:!1}function a(e){return n(e)&&r(e,"fn,inverse")}function i(){function t(){function t(t){if(void 0===n)n=t;else{var r=e(t);switch(e(n)){case"array":switch(r){case"array":n=n.concat(t);break;default:n.push(t)}break;case"object":switch(r){case"array":for(var a=0;t.length>a;a++)n[a]=t[a];break;case"object":Object.keys(t).forEach(function(e){n[e]=t[e]});break;default:n["_"+(Object.keys(n).length+1)]=t}break;default:switch(r){case"object":t=JSON.stringify(t);break;case"array":t=t.join()}n+=" "+t}}}var n,u,o=X.slice.call(arguments);if(o.forEach(function(n,c){if(!u)switch(e(n)){case"function":var f=o.slice(c+1);f.push(i);var l=n.apply(void 0,f);s?r?t(l):"boolean"===e(l)?t(l?a.fn(l):a.inverse(l)):t(a.fn(l)):t(l),u=!0;break;case"array":s?r?t(n):n.length?n.forEach(function(e){t(a.fn(e))}):t(a.inverse(i)):t(n);break;case"object":s?r?t(n):Object.keys(n).length?t(a.fn(n)):t(a.inverse(i)):t(n);break;default:s?r?t(n):t(n?a.fn(i):a.inverse(i)):t(n)}}),s)return n;switch(e(n)){case"object":return JSON.stringify(n);case"array":return n.join();default:return n}}if(2>arguments.length)throw console.error("missing argument(s)"),Error("missing argument(s)");for(var r,n,a=X.splice.call(arguments,arguments.length-1,1)[0],i=a.data.root||{},s=a.hasOwnProperty("fn")||a.hasOwnProperty("inverse"),u=":if"==a.name,o={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},"<":function(e,t){return t>e},">":function(e,t){return e>t},"<=":function(e,t){return t>=e},">=":function(e,t){return e>=t},":typeof":function(e,t){return typeof e===t},":instanceof":function(t,r){return e(t).toLowerCase()===(""+r).trim().toLowerCase()},":is":function(t,r){return e(t).toLowerCase()===(""+r).trim().toLowerCase()},"=ic":function(e,t){return(""+e).toLowerCase()==(""+t).toLowerCase()},"!=ic":function(e,t){return(""+e).toLowerCase()!=(""+t).toLowerCase()},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"*":function(e,t){return e*t},"/":function(e,t){return e/t}},c=Object.keys(o),f=function(e){return c.indexOf(e)>=0},l=X.slice.call(arguments),g=0;l.length>g;g++)if("string"===e(l[g])&&(r=f(l[g])?g:0)){n=l[g];break}if(u&&(!s||!r))throw console.error("[Template Syntax Error] :if must have 'CONDITION' and BLOCK. use {{#:if ... 'CONDITION' ... }} ... {{else}} ... {{/:if}}"),Error("[Template Syntax Error] :if must have 'CONDITION' and BLOCK. use {{#:if ... 'CONDITION' ... }} ... {{else}} ... {{/:if}}");if(r){var d=l.slice(0,r),h=l.slice(r+1),p=t.apply(void 0,d),b=t.apply(void 0,h),m=o[n](p,b);return s?m?a.fn(p):a.inverse(b):m}return t.apply(void 0,arguments)}function s(t){return e(t)}function u(e,r){var i=arguments[arguments.length-1],s=n(r)?"undefined":r;return a(i)?t(e,s)?i.fn(e):i.inverse(e):t(e,s)}function o(e){return(""+(e||"")).toLowerCase()}function c(e){return(""+(e||"")).toUpperCase()}function f(e){return(""+e).charAt(0).toUpperCase()+(""+e).slice(1)}function l(e){return(""+e).charAt(0).toLowerCase()+(""+e).slice(1)}function g(e){return m(e).replace(/\s+/g," ")}function d(e){return e=(""+e).replace(/[^+-0123456789.]/g,""),e=e.trim().length?e.indexOf(".")>=0?e.substring(0,e.indexOf(".")):e:"0",parseInt(1*e,10)}function h(e){return e=(""+e).replace(/[^+-0123456789.]/g,""),e=e.trim().length?e:"0",parseFloat(1*e)}function p(t){switch(e(t)){case"object":return JSON.stringify(t);case"array":return t.join();default:return""+t}}function b(t){switch(e(t)){case"function":return!0;case"object":return Object.keys(t).length>0;case"array":return t.length>0;default:var r=!0;switch((""+t).trim().toLowerCase()){case"":case"0":case"-0":case"nan":case"null":case"false":case"undefined":r=!1}return r}}function m(e,r){return e=p(e),t(r,"string")?v(y(e,r),r):e.trim()}function v(e,r){return e=p(e),t(r,"string")||(r=""),e.replace(RegExp("^["+(r||"\\s")+"]+","g"),"")}function y(e,r){return e=p(e),t(r,"string")||(r=""),e.replace(RegExp("["+(r||"\\s")+"]+$","g"),"")}function O(e,r){return e=p(e),t(r,"string|number")||(r=0),"string"==typeof r&&(r=e.indexOf(r)),r=d(r),r?e.substr(0,r):""}function k(e,r){e=p(e),t(r,"string|number")||(r=0);var n=1;return"string"==typeof r&&(n=r.length,r=e.indexOf(r)),r=d(r),0>r?"":e.substr(r+n)}function w(e){function r(e){return(e>9?"":"0")+e}var n=new Date;if(!t(e,"string"))return""+n;var a=e,i=["January","February","March","April","May","June","July","August","September","October","November","December"],s=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],c=["Su","Mo","Tu","We","Th","Fr","Sa"],f={YYYY:n.getFullYear(),YY:n.getFullYear(),Y:n.getFullYear(),Mmmm:i[n.getMonth()],MMMM:i[n.getMonth()].toUpperCase(),Mmm:s[n.getMonth()],MMM:s[n.getMonth()].toUpperCase(),"0M":r(n.getMonth()+1,"0",2,-1),MM:n.getMonth()+1,Dddd:u[n.getDay()],DDDD:u[n.getDay()].toUpperCase(),Ddd:o[n.getDay()],DDD:o[n.getDay()].toUpperCase(),Dd:c[n.getDay()],DD:c[n.getDay()].toUpperCase(),"0d":r(n.getDate(),"0",2,-1),dd:n.getDate(),"0h":r(n.getHours(),"0",2,-1),hh:n.getHours(),"0m":r(n.getMinutes(),"0",2,-1),mm:n.getMinutes(),"0s":r(n.getSeconds(),"0",2,-1),ss:n.getSeconds(),ms:n.getMilliseconds()};return Object.keys(f).forEach(function(e){a=a.replace(e,f[e])}),a}function j(){return""+(new Date).getTime()}function x(e,r){return t(e,"number")||(e=1),t(r,"number")||(r=e+999),Math.floor(Math.random()*(r-e+1))+e}function M(e,r){t(e,"number")||(e=8),t(r,"string")||(r=""),e=e||8;for(var n=r||"9a8b77C8D9E8F7G6H5I4J3c6d5e4f32L3M4N5P6Qg2h3i4j5kV6W5X4Y3Z26m7n8p9q8r7s6t5u4v3w2x3y4z5A6BK7R8S9T8U7",a="",i=0;e>i;i++){var s=Math.floor(Math.random()*n.length);a+=n.charAt(s)}return a}function C(e){var t=arguments[arguments.length-1];return a(t)?e!==void 0?t.fn(e):t.inverse(e):e!==void 0}function D(e){var t=arguments[arguments.length-1];return a(t)?e===void 0?t.fn(e):t.inverse(e):e===void 0}function S(t){var r;if(D(t)||null===t)r=!0;else switch(e(t)){case"undefined":case"null":r=!0;break;case"function":r=!1;break;case"object":r=0==Object.keys(t).length;break;case"array":r=0==t.length;break;case"boolean":r=t;break;case"number":r=0==t;break;case"string":r=0==t.trim().length;break;default:r=!1}var n=arguments[arguments.length-1];return a(n)?r?n.fn(t):n.inverse(t):!!r}function E(e,t,r){return b(e)?t:r}function I(e,r,n){return S(e)?r:t(n,"object")&&":ifEmpty"==n.name?e:n}function N(e,r,n){return S(e)?t(n,"object")&&":ifNotEmpty"==n.name?e:n:r}function L(e,t){var r=arguments[arguments.length-1],n=u(e,"array|object")?K(e,t):e;return a(r)?n!==void 0?r.fn(n):r.inverse(n):n}function T(e,t){var r=[];return S(e)||(r=t?e.split(t):e.indexOf(",")>0?e.split(","):e.indexOf("|")>0?e.split("|"):e.indexOf(" ")>0?e.split(" "):e.indexOf("-")>0?e.split("-"):[e]),r}function B(e,t){var r=arguments[arguments.length-1],n=u(t,"string")?t:void 0,i=T(e,n);return a(r)?S(i)?r.inverse(e):r.fn(i):i}function F(e,t){var r=arguments[arguments.length-1],n="";if(a(r)){switch(s(e)){case"string":e=T(e);case"array":case"object":if(S(e))n+=r.inverse(e);else{var i=u(t,"string")?t:"item";Object.keys(e).forEach(function(t){var a={key:t};a[i]=e[t],n+=r.fn(a)})}break;default:n+=r.inverse(e)}return n}return e}function J(r,n){function a(e,t){return g++,'<option value="'+e+'" '+(i(e,t)?"selected":"")+">"+t+"</option>"}function i(e,t){return u&&h.indexOf(""+g)>=0||o&&p.indexOf(""+e)>=0||c&&b.indexOf(""+t)>=0}var u,o,c,f,l="",g=-1,d={value:"",text:"",value_text:"",splitBy:",",vtSplit:"",selIndex:"",selValue:"",selText:""},h=[],p=[],b=[],m="",v="",y="";switch(t(n,"string")&&(T(n,";").forEach(function(e){var r=e.split(":");d[r[0].trim()]=t(r[1],"undefined")?"":r[1].trim()}),h=T(d.selIndex),p=T(d.selValue),b=T(d.selText),u=h.length,o=p.length,c=b.length,m=d.value||d.value_text,v=d.text||d.value_text,y=(d.vtSplit||"").replace(/colon/gi,":"),f="index"==m.toLowerCase()),t(r,"string")&&(r=T(r,d.splitBy)),s(r)){case"object":Object.keys(r).forEach(function(e){l+=a(e,r[e])});break;case"array":r.forEach(function(t,r){switch(e(t)){case"object":var n=Object.keys(t);m&&v?l+=a(t[m],t[v]):1==n.length&&n.forEach(function(e){l+=a(e,t[e])});break;case"string":if(f){l+=a(r,t);break}t=y?t.split(y):[t];case"array":m&&v?l+=a(t[m],t[v]):1==t.length?l+=a(t[0],t[0]):t.length>1&&(l+=a(t[0],t[1]));break;default:l+=a(f?r:t,t)}})}return new Handlebars.SafeString(l)}function Y(){var e=i.apply(void 0,arguments);return e?"checked":""}function U(){var e=i.apply(void 0,arguments);return e?"":"checked"}function A(){var e=i.apply(void 0,arguments);return e?"disabled":""}function H(){var e=i.apply(void 0,arguments);return e?"":"disabled"}function P(){var e=i.apply(void 0,arguments);return e?"selected":""}function R(){var e=i.apply(void 0,arguments);return e?"":selected}function W(e){if(t(e,"number"))return!0;if(t(e,"string")){var r=e.replace(/[0-9]/g,"").trim();return e.length>0&&(""==r||e.length>1&&"."==r)}return!1}function z(e){return m((e||"").replace(/]/g,"").replace(/(\[)|(\\)|(\/)/g,".").replace(/(\.+)/g,"."),"\\.")}function K(e,t,r){for(var n=0,a=z(t).split("."),i=a.length;i>n;n++){if(!e||e===void 0)return r;e=e[a[n]]}return e===void 0?r:e}function V(r,n){function i(e,t){return t>e?-1:e>t?1:0}var s=arguments[arguments.length-1],u=[],o={sortOn:"",sortBy:"asc",splitBy:","},c=!0,f="";if(t(n,"string")&&T(n,";").forEach(function(e){var r=e.split(":");o[r[0].trim()]=t(r[1],"undefined")?"":r[1].trim()}),c="asc"==o.sortBy.toLowerCase(),f=o.sortOn||"",t(r,"string")&&r.length>0&&(r=T(r,o.splitBy)),t(r,"array")&&r.length>0)if(1==r.length)u=r;else switch(e(r[0])){case"number":u=c?r.sort(function(e,t){return e-t}):r.sort(function(e,t){return t-e});break;case"string":u=W(r[0])?c?r.sort(function(e,t){return 1*e-1*t}):r.sort(function(e,t){return 1*t-1*e}):c?r.sort():r.reverse();break;case"boolean":u=c?r.sort(function(e,t){return i(e,t)}):r.sort(function(e,t){return i(t,e)});break;case"object":if(f)switch(e(K(r[0],f))){case"number":u=c?r.sort(function(e,t){return K(e,f)-K(t,f)}):r.sort(function(e,t){return K(t,f)-K(e,f)});break;case"string":u=W(K(r[0],f))?c?r.sort(function(e,t){return 1*K(e,f)-1*K(t,f)}):r.sort(function(e,t){return 1*K(t,f)-1*K(e,f)}):c?r.sort(function(e,t){return i(K(e,f),K(t,f))}):r.sort(function(e,t){return i(K(t,f),K(e,f))});break;case"boolean":u=c?r.sort(function(e,t){return i(K(e,f),K(t,f))}):r.sort(function(e,t){return i(K(t,f),K(e,f))});break;default:u=r}else u=r;break;default:u=r}return a(s)?u.length?s.fn(u):s.inverse(r):u}function q(){function r(r){if(!t(r,"undefined|null"))switch(e(n)){case"undefined":case"null":n=r;break;case"array":switch(e(r)){case"array":n=n.concat(r);break;default:n.push(r)}break;case"object":switch(e(r)){case"object":Object.keys(r).forEach(function(e){n[e]=r[e]});break;default:n.hasOwnProperty("__joined__")?n.__joined__.push(r):n.__joined__=[r]}break;default:switch(e(r)){case"array":r.length&&(n+=r.join());break;case"object":Object.keys(r).length&&(n+=JSON.stringify(r));break;default:n+=""+r}}}var n,i=X.pop.call(arguments);return X.forEach.call(arguments,function(e){r(e)}),a(i)?i.fn(n):n}function G(){var e=X.pop.call(arguments),t=X.shift.call(arguments),r=X.join.call(arguments,t);return a(e)?e.fn(r):r}function Q(){function e(r){if(r=r.trim(),!r.length)return r;var n=r[0],a=r;switch(!0){case"true"==r:a=!0;break;case"false"==r:a=!1;break;case W(r):a=1*r;break;case"["==n:r=r.substring(1,r.lastIndexOf("]"))+",";case r.indexOf(",")>0&&0>r.indexOf("{"):var i=[];r.split(",").forEach(function(t){t=t.trim(),""!=t&&i.push(e(t))}),a=i;break;case"{"==n:r=r.substring(1,r.lastIndexOf("}"));var u,o,c={};r.split(",").forEach(function(t){t=t.trim(),u=O(t,":").trim(),o=k(t,":").trim(),u&&(c[u]=e(o))}),a=c;break;case"@"==n&&"["!=r[1]:var f=r.substring(1,r.indexOf("."));if(W(f)){a=s[f];var l=r.indexOf(".")>0?r.substr(r.indexOf(".")+1):"";l&&t(a,"array|object")&&(a=K(a,l))}}if(t(a,"string")&&a.indexOf("@[")>=0){var g,d,h,p,b=a.match(/(@\[\s*(.*?)\s*])/g);b&&_.forEach(b,function(e){g=e.replace(/@\[/,"").replace(/]/,""),d=g.substring(0,g.indexOf(".")),h="",W(d)&&(h=s[d],p=g.indexOf(".")>0?g.substr(g.indexOf(".")+1):"",p&&t(h,"array|object")&&(h=K(h,p))),a=a.replace(RegExp(e.replace(/\[/,"\\["),"g"),h)})}return a}var r=X.pop.call(arguments),n=X.shift.call(arguments),i={},s=X.splice.call(arguments,0);return t(n,"string")&&T(n,";").forEach(function(t){var r=O(t,":").trim(),n=k(t,":").trim();r&&(n=e(n),i[r]=n)}),a(r)?r.fn(i):i}var X=Array.prototype;"undefined"!=typeof Handlebars&&Handlebars&&Handlebars.registerHelper({":":i,":if":i,":is":u,":isEmpty":S,":ofType":s,":?":E,":ifEmpty":I,":ifNotEmpty":N,":of":L,":each":F,":split":B,":sort":V,":join":q,":joinWith":G,":json":Q,":options":J,":checkedIf":Y,":checkedIfNot":U,":enabledIf":H,":enabledIfNot":A,":disabledIf":A,":disabledIfNot":H,":selectedIf":P,":selectedIfNot":R,":toLowerCase":o,":toUpperCase":c,":capitalize":f,":unCapitalize":l,":normalizeStr":g,":toInt":d,":toFloat":h,":toStr":p,":toString":p,":toBool":b,":toBoolean":b,":trim":m,":trimStr":m,":trimLeft":v,":trimLeftStr":v,":trimRight":y,":trimRightStr":y,":getLeftStr":O,":getRightStr":k,":dateNowMs":j,":dateNow":w,":rand":x,":randPwd":M,":ifDefined":C,":ifUndefined":D})})();
(function(t,n,e,i){"use strict";t.fn.range=function(n){var a=t(this),s=10,o=arguments[0],r="string"==typeof o,u=[].slice.call(arguments,1);return a.each(function(){var a,l,c,m,d,f=t.isPlainObject(n)?t.extend(!0,{},t.fn.range.settings,n):t.extend({},t.fn.range.settings),v=f.namespace,h=f.min,p=f.max,g=f.step,x=(f.start,f.input,"module-"+v),w=t(this),b=this,P=w.data(x);d={initialize:function(){d.instantiate(),d.sanitize()},instantiate:function(){P=d,w.data(x,d);var n=t(b).closest("div").width()/p*h;t(b).html("<div class='min-val' style='width:"+n+"px'><div class='min-label'>Min. "+h+" GB</div></div><div class='inner' style='margin-left:"+n+"px'><div class='max-label'>Max. "+p+" GB</div><div class='track'></div><div class='track-fill'></div><div class='thumb'><div class='bubble'></div></div></div>"),a=t(b).children(".inner")[0],l=t(b).find(".thumb")[0],c=t(b).find(".track-fill")[0],d.determinePrecision(),d.setValuePosition(f.start),t(b).find(".track, .thumb, .inner").on("mousedown",function(n){n.stopImmediatePropagation(),n.preventDefault(),t(this).closest(".range").trigger("mousedown",n)}),t(b).find(".track, .thumb, .inner").on("touchstart",function(n){n.stopImmediatePropagation(),n.preventDefault(),t(this).closest(".range").trigger("touchstart",n)}),t(b).on("mousedown",function(t,n){d.rangeMousedown(t,!1,n)}),t(b).on("touchstart",function(t,n){d.rangeMousedown(t,!0,n)})},sanitize:function(){"number"!=typeof f.min&&(f.min=parseInt(f.min)||0),"number"!=typeof f.max&&(f.max=parseInt(f.max)||!1),"number"!=typeof f.start&&(f.start=parseInt(f.start)||0)},determinePrecision:function(){var t,n=(f.step+"").split(".");t=2==n.length?n[1].length:0,m=Math.pow(10,t)},determineValue:function(t,n,e){var i=(e-t)/(n-t),a=f.max-f.min,s=Math.round(i*a/g)*g;return s=Math.round(s*m)/m,s+f.min},determinePosition:function(n){var e=(n-f.min)/(f.max-f.min);return Math.round(e*t(a).width())+t(c).position().left-s},setValue:function(n){t(b).attr("data-value",n),f.input&&t(f.input).val(n),f.onChange&&f.onChange(n)},setPosition:function(n){t(l).css({left:n+""+"px"}),t(c).css({width:n+s+""+"px"})},rangeMousedown:function(n,o,r){if(!t(b).hasClass("disabled")){n.preventDefault();var u,l=t(a).offset().left,c=l+t(a).width();u=o?r.originalEvent.touches[0].pageX:n.pageX!==i?n.pageX:r.pageX;var m=d.determineValue(l,c,u);u>=l&&c>=u&&(d.setPosition(u-l-s),d.setValue(m));var v=function(t){t.preventDefault(),u=o?t.originalEvent.touches[0].pageX:t.pageX,m=d.determineValue(l,c,u),u>=l&&c>=u&&m>=f.min&&f.max>=m&&(d.setPosition(u-l-s),d.setValue(m))},h=function(){o?(t(e).off("touchmove",v),t(e).off("touchend",h)):(t(e).off("mousemove",v),t(e).off("mouseup",h))};o?(t(e).on("touchmove",v),t(e).on("touchend",h)):(t(e).on("mousemove",v),t(e).on("mouseup",h))}},setValuePosition:function(t){var n=d.determinePosition(t);d.setPosition(n),d.setValue(t)},invoke:function(t){switch(t){case"set value":u.length>0&&P.setValuePosition(u[0])}}},r?(P===i&&d.initialize(),d.invoke(o)):d.initialize()}),this},t.fn.range.settings={name:"Range",namespace:"range",min:0,max:!1,step:1,start:0,input:!1,onChange:function(){}}})(jQuery,window,document);